Lena.G = Lena_Image_Raw
Lena.B = Lena_Image_Raw
# zero out the non-contributing channels for each image copy
Lena.R[,,2:3] = 0
Lena.G[,,1]=0
Lena.G[,,3]=0
Lena.B[,,1:2]=0
# build the image grid
img1 = rasterGrob(Lena.R)
img2 = rasterGrob(Lena.G)
img3 = rasterGrob(Lena.B)
grid.arrange(img1, img2, img3, nrow=1)
grid.arrange(Lena_Image_Raw, img1, img2, img3, nrow=1)
# build the image grid
img0 = rasterGrob(Lena_Image_Raw)
img1 = rasterGrob(Lena.R)
img2 = rasterGrob(Lena.G)
img3 = rasterGrob(Lena.B)
grid.arrange(img0, img1, img2, img3, nrow=1)
# reshape image into a data frame
Imgdf = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol=1),
green = matrix(Lena_Image_Raw[,,2], ncol=1),
blue = matrix(Lena_Image_Raw[,,3], ncol=1)
)
### compute the k-means clustering
K = kmeans(df,4)
df$label = K$cluster
# get the coloring
colors = data.frame(
label = 1:nrow(K$centers),
R = K$centers[,"red"],
G = K$centers[,"green"],
B = K$centers[,"blue"]
)
# merge color codes on to df
# IMPORTANT: we must maintain the original order of the df after the merge!
df$order = 1:nrow(df)
df = merge(df, colors)
df = df[order(df$order),]
df$order = NULL
# get mean color channel values for each row of the df.
R = matrix(df$R, nrow=dim(Lena_Image_Raw)[1])
G = matrix(df$G, nrow=dim(Lena_Image_Raw)[1])
View(Imgdf)
# Show the full RGB image # Dimensão = 512 512   3 #
grid.raster(Lena_Image_Raw)
dim(Lena_Image_Raw)
# Reshape image into a data frame
IMAdf <- data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
View(IMAdf)
# Perform CLARA clustering with 2 clusters
num_clusters <- 3
clustering <- clara(df, num_clusters, samples = 1000)
# Perform CLARA clustering with 2 clusters
num_clusters <- 3
clustering <- clara(IMAdf, num_clusters, samples = 1000)
# Perform CLARA clustering with 2 clusters
num_clusters <- 3
clustering <- clara(IMAdf, num_clusters, samples = 100)
# Reshape image into a data frame
IMAdf <- data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
# Perform CLARA clustering with 2 clusters
num_clusters <- 3
clustering <- clara(IMAdf, num_clusters, samples = 100)
clustering <- clara(IMAdf, num_clusters, samples = 1000)
# Show the full RGB image # Dimension = 512 512   3 #
grid.raster(Lena_Image_Raw)
dim(Lena_Image_Raw)
# Show the B channel in gray scale representing pixel intensity
grid.raster(Lena_Image_Raw[,,3])
# Show the 3 channels in separate images
# copy the image three times
Lena.R = Lena_Image_Raw
Lena.G = Lena_Image_Raw
Lena.B = Lena_Image_Raw
# zero out the non-contributing channels for each image copy
Lena.R[,,2:3] = 0
Lena.G[,,1]=0
Lena.G[,,3]=0
Lena.B[,,1:2]=0
# build the image grid
img0 = rasterGrob(Lena_Image_Raw)
img1 = rasterGrob(Lena.R)
img2 = rasterGrob(Lena.G)
img3 = rasterGrob(Lena.B)
grid.arrange(img0, img1, img2, img3, nrow=1)
# Reshape image into a data frame
IMAdf <- data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
# Perform CLARA clustering with 2 clusters
num_clusters <- 3
clustering <- clara(IMAdf, num_clusters, samples = 1000)
clustering <- clara(Lena_Image_Raw, num_clusters, samples = 1000)
clustering <- clara(IMAdf, num_clusters, samples = 1000)
# Perform CLARA clustering with 2 clusters
num_clusters <- 3
clustering <- clara(IMAdf, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments <- clustering$clustering
library(cluster)
getwd()
setwd("C:/Users/rodri/OneDrive/Documentos/RodrigoBragança_Análise de clusters [23E3_2]")
Lena_Image_Raw = readPNG("Lena_Cluster.png")
# Show the full RGB image # Dimension = 512 512   3 #
grid.raster(Lena_Image_Raw)
dim(Lena_Image_Raw)
# Show the B channel in gray scale representing pixel intensity
grid.raster(Lena_Image_Raw[,,3])
# Show the 3 channels in separate images
# copy the image three times
Lena.R = Lena_Image_Raw
Lena.G = Lena_Image_Raw
Lena.B = Lena_Image_Raw
# zero out the non-contributing channels for each image copy
Lena.R[,,2:3] = 0
Lena.G[,,1]=0
Lena.G[,,3]=0
Lena.B[,,1:2]=0
# build the image grid
img0 = rasterGrob(Lena_Image_Raw)
img1 = rasterGrob(Lena.R)
img2 = rasterGrob(Lena.G)
img3 = rasterGrob(Lena.B)
grid.arrange(img0, img1, img2, img3, nrow=1)
# Reshape image into a data frame
IMAdf <- data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
# Perform CLARA clustering with 2 clusters
num_clusters <- 3
clustering <- clara(IMAdf, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments <- clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
df[,"red"] <- cluster_medoids[cluster_assignments, "red"]
df[,"red"] <- cluster_medoids[cluster_assignments, "red"]
# Reshape the segmented image data
R <- matrix(df$red, nrow = dim(Lena_Image_Raw)[1])
G <- matrix(df$green, nrow = dim(Lena_Image_Raw)[1])
B <- matrix(df$blue, nrow = dim(Lena_Image_Raw)[1])
# Perform CLARA clustering with 2 clusters
num_clusters = 3
clustering = clara(IMAdf, num_clusters, samples = 100)
# Get cluster assignments
cluster_assignments = clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
df[,"red"] <- cluster_medoids[cluster_assignments, "red"]
library(ggplot2)
library("grid")
library("gridExtra")
library("png")
library(cluster)
# Perform CLARA clustering with 2 clusters
num_clusters = 3
clustering = clara(IMAdf, num_clusters, samples = 100)
# Get cluster assignments
cluster_assignments = clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
df[,"red"] = cluster_medoids[cluster_assignments, "red"]
df[,"red"] = cluster_medoids[cluster_assignments, "red"]
df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
df[,"red"] = cluster_medoids[cluster_assignments, "red"]
# Reshape the segmented image data
R <- matrix(df$red, nrow = dim(Lena_Image_Raw)[1])
# Reshape image into a data frame
IMAdf = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
View(IMAdf)
#### Leitura de arquivos de imagem ####
install.packages("jpge")
install.packages("png")
install.packages("grid")
install.packages("gridExtra")
install.packages("png")
install.packages("grid")
library(ggplot2)
library("grid")
library("gridExtra")
library("png")
library(cluster)
getwd()
setwd("C:/Users/rodri/OneDrive/Documentos/RodrigoBragança_Análise de clusters [23E3_2]")
Lena_Image_Raw = readPNG("Lena_Cluster.png")
# Show the full RGB image # Dimension = 512 512   3 #
grid.raster(Lena_Image_Raw)
dim(Lena_Image_Raw)
# build the image grid
img0 = rasterGrob(Lena_Image_Raw)
img1 = rasterGrob(Lena.R)
img2 = rasterGrob(Lena.G)
img3 = rasterGrob(Lena.B)
grid.arrange(img0, img1, img2, img3, nrow=1)
# Show the 3 channels in separate images
# copy the image three times
Lena.R = Lena_Image_Raw
Lena.G = Lena_Image_Raw
Lena.B = Lena_Image_Raw
# zero out the non-contributing channels for each image copy
Lena.R[,,2:3] = 0
Lena.G[,,1]=0
Lena.G[,,3]=0
Lena.B[,,1:2]=0
# build the image grid
img0 = rasterGrob(Lena_Image_Raw)
img1 = rasterGrob(Lena.R)
img2 = rasterGrob(Lena.G)
img3 = rasterGrob(Lena.B)
grid.arrange(img0, img1, img2, img3, nrow=1)
# Reshape image into a data frame
ima_df = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
# Perform CLARA clustering with 3 clusters
num_clusters = 3
clustering = clara(IMAdf, num_clusters, samples = 1000)
clustering = clara(ima_df, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments = clustering$clustering
clustering$clustering
# Get cluster assignments
cluster_assignments = clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
df[,"red"] = cluster_medoids[cluster_assignments, "red"]
df[,"green"] = cluster_medoids[cluster_assignments, "green"]
df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
library(cluster)
df[,"red"] = cluster_medoids[cluster_assignments, "red"]
df[,"green"] = cluster_medoids[cluster_assignments, "green"]
df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
# Reshape the segmented image data
R <- matrix(df$red, nrow = dim(Lena_Image_Raw)[1])
G <- matrix(df$green, nrow = dim(Lena_Image_Raw)[1])
B <- matrix(df$blue, nrow = dim(Lena_Image_Raw)[1])
#### Leitura de arquivos de imagem ####
install.packages("jpge")
install.packages("png")
install.packages("grid")
install.packages("gridExtra")
install.packages("gridExtra")
install.packages("grid")
#### Leitura de arquivos de imagem ####
install.packages("jpge")
install.packages("png")
install.packages("grid")
install.packages("gridExtra")
install.packages("gridExtra")
#### Leitura de arquivos de imagem ####
install.packages("jpge")
install.packages("png")
install.packages("grid")
install.packages("grid")
install.packages("grid")
install.packages("grid")
install.packages("grid")
install.packages("gridExtra")
library(ggplot2)
library("grid")
library("gridExtra")
library("png")
library(cluster)
library("ggplot2")
library("grid")
library("gridExtra")
library("png")
library("cluster")
getwd()
setwd("C:/Users/rodri/OneDrive/Documentos/RodrigoBragança_Análise de clusters [23E3_2]")
Lena_Image_Raw = readPNG("Lena_Cluster.png")
# Show the full RGB image # Dimension = 512 512   3 #
grid.raster(Lena_Image_Raw)
dim(Lena_Image_Raw)
# Show the B channel in gray scale representing pixel intensity
grid.raster(Lena_Image_Raw[,,3])
# Show the 3 channels in separate images
# copy the image three times
Lena.R = Lena_Image_Raw
Lena.G = Lena_Image_Raw
Lena.B = Lena_Image_Raw
# zero out the non-contributing channels for each image copy
Lena.R[,,2:3] = 0
Lena.G[,,1]=0
Lena.G[,,3]=0
Lena.B[,,1:2]=0
# build the image grid
img0 = rasterGrob(Lena_Image_Raw)
img1 = rasterGrob(Lena.R)
img2 = rasterGrob(Lena.G)
img3 = rasterGrob(Lena.B)
grid.arrange(img0, img1, img2, img3, nrow=1)
# Reshape image into a data frame
ima_df = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
# Perform CLARA clustering with 3 clusters
num_clusters = 3
clustering = clara(ima_df, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments = clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
df[,"red"] = cluster_medoids[cluster_assignments, "red"]
df[,"green"] = cluster_medoids[cluster_assignments, "green"]
df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
ima_df[,"red"] = cluster_medoids[cluster_assignments, "red"]
ima_df[,"green"] = cluster_medoids[cluster_assignments, "green"]
ima_df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
# Reshape the segmented image data
R <- matrix(df$red, nrow = dim(Lena_Image_Raw)[1])
# Reshape the segmented image data
R <- matrix(ima_df$red, nrow = dim(Lena_Image_Raw)[1])
G <- matrix(ima_df$green, nrow = dim(Lena_Image_Raw)[1])
B <- matrix(ima_df$blue, nrow = dim(Lena_Image_Raw)[1])
# Reconstitute the segmented image in the same shape as the input image
Lena_segmented <- array(dim = dim(Lena_Image_Raw))
Lena_segmented[,,1] <- R
Lena_segmented[,,2] <- G
Lena_segmented[,,3] <- B
# Display the original image and the segmented result
grid.arrange(
rasterGrob(Lena_Image_Raw),
rasterGrob(Lena_segmented),
ncol = 2
)
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
df[,"red"] = cluster_medoids[cluster_assignments, "red"]
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
ima_df[,"red"] = cluster_medoids[cluster_assignments, "red"]
ima_df[,"green"] = cluster_medoids[cluster_assignments, "green"]
ima_df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
# Reshape the segmented image data
R = matrix(ima_df$red, nrow = dim(Lena_Image_Raw)[1])
G = matrix(ima_df$green, nrow = dim(Lena_Image_Raw)[1])
B = matrix(ima_df$blue, nrow = dim(Lena_Image_Raw)[1])
# Reconstitute the segmented image in the same shape as the input image
Lena_segmented = array(dim = dim(Lena_Image_Raw))
# Reconstitute the segmented image in the same shape as the input image
Lena_segmented = array(dim = dim(Lena_Image_Raw))
Lena_segmented[,,1] = R
Lena_segmented[,,2] = G
Lena_segmented[,,3] = B
# Display the original image and the segmented result
grid.arrange(
rasterGrob(Lena_Image_Raw),
rasterGrob(Lena_segmented),
ncol = 2
)
# Perform CLARA clustering with 3 clusters
num_clusters = 5
clustering = clara(ima_df, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments = clustering$clustering
# Reshape image into a data frame
ima_df = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
# Perform CLARA clustering with 3 clusters
num_clusters = 5
clustering = clara(ima_df, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments = clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
ima_df[,"red"] = cluster_medoids[cluster_assignments, "red"]
ima_df[,"green"] = cluster_medoids[cluster_assignments, "green"]
ima_df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
# Reshape the segmented image data
R = matrix(ima_df$red, nrow = dim(Lena_Image_Raw)[1])
G = matrix(ima_df$green, nrow = dim(Lena_Image_Raw)[1])
B = matrix(ima_df$blue, nrow = dim(Lena_Image_Raw)[1])
# Reconstitute the segmented image in the same shape as the input image
Lena_segmented = array(dim = dim(Lena_Image_Raw))
Lena_segmented[,,1] = R
Lena_segmented[,,2] = G
Lena_segmented[,,3] = B
# Display the original image and the segmented result
grid.arrange(
rasterGrob(Lena_Image_Raw),
rasterGrob(Lena_segmented),
ncol = 2
)
# Perform CLARA clustering with 3 clusters
num_clusters = 10
# Reshape image into a data frame
ima_df = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
clustering = clara(ima_df, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments = clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
ima_df[,"red"] = cluster_medoids[cluster_assignments, "red"]
ima_df[,"green"] = cluster_medoids[cluster_assignments, "green"]
ima_df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
# Reshape the segmented image data
R = matrix(ima_df$red, nrow = dim(Lena_Image_Raw)[1])
G = matrix(ima_df$green, nrow = dim(Lena_Image_Raw)[1])
B = matrix(ima_df$blue, nrow = dim(Lena_Image_Raw)[1])
# Reconstitute the segmented image in the same shape as the input image
Lena_segmented = array(dim = dim(Lena_Image_Raw))
Lena_segmented[,,1] = R
Lena_segmented[,,2] = G
Lena_segmented[,,3] = B
# Display the original image and the segmented result
grid.arrange(
rasterGrob(Lena_Image_Raw),
rasterGrob(Lena_segmented),
ncol = 2
)
# Reshape image into a data frame
ima_df = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
# Perform CLARA clustering with 3 clusters
num_clusters = 15
clustering = clara(ima_df, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments = clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
ima_df[,"red"] = cluster_medoids[cluster_assignments, "red"]
ima_df[,"green"] = cluster_medoids[cluster_assignments, "green"]
ima_df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
# Reshape the segmented image data
R = matrix(ima_df$red, nrow = dim(Lena_Image_Raw)[1])
G = matrix(ima_df$green, nrow = dim(Lena_Image_Raw)[1])
B = matrix(ima_df$blue, nrow = dim(Lena_Image_Raw)[1])
# Reconstitute the segmented image in the same shape as the input image
Lena_segmented = array(dim = dim(Lena_Image_Raw))
Lena_segmented[,,1] = R
Lena_segmented[,,2] = G
Lena_segmented[,,3] = B
# Display the original image and the segmented result
grid.arrange(
rasterGrob(Lena_Image_Raw),
rasterGrob(Lena_segmented),
ncol = 2
)
# Reshape image into a data frame
ima_df = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
# Perform CLARA clustering with 3 clusters
num_clusters = 10
# Reshape image into a data frame
ima_df = data.frame(
red = matrix(Lena_Image_Raw[,,1], ncol = 1),
green = matrix(Lena_Image_Raw[,,2], ncol = 1),
blue = matrix(Lena_Image_Raw[,,3], ncol = 1)
)
clustering = clara(ima_df, num_clusters, samples = 1000)
# Get cluster assignments
cluster_assignments = clustering$clustering
# Get cluster medoids (centers)
cluster_medoids <- clustering$medoids
ima_df[,"red"] = cluster_medoids[cluster_assignments, "red"]
ima_df[,"green"] = cluster_medoids[cluster_assignments, "green"]
ima_df[,"blue"] = cluster_medoids[cluster_assignments, "blue"]
# Reshape the segmented image data
R = matrix(ima_df$red, nrow = dim(Lena_Image_Raw)[1])
G = matrix(ima_df$green, nrow = dim(Lena_Image_Raw)[1])
B = matrix(ima_df$blue, nrow = dim(Lena_Image_Raw)[1])
# Reconstitute the segmented image in the same shape as the input image
Lena_segmented = array(dim = dim(Lena_Image_Raw))
Lena_segmented[,,1] = R
Lena_segmented[,,2] = G
Lena_segmented[,,3] = B
# Display the original image and the segmented result
grid.arrange(
rasterGrob(Lena_Image_Raw),
rasterGrob(Lena_segmented),
ncol = 2
)
